---
layout: post
title: "如何制作完整的最小的可检验的代码片段(转译)"
date: 2017-06-09 22:42:07 +0800
categories: 译
---

当你问由于你的代码造成的一个问题时，如果你提供的代码别人可以用来重现问题，你会得到更好的答案。代码应当：

​	1. 最小化：在保证再现问题的基础上尽可能使用最少的代码。

​	2.完整性：提供出现问题的所有代码。

​	3.可检验性：测试你提供的代码，确保它出现问题。

## 最小化

代码越多，其他人就越不可能发现问题，可以用一两个方法精炼你的代码：

- 从零开始。创建一个新程序，添加必要的东西来重现问题。如果你知道问题的来源，这对大型的系统来说会更快。当然对你而言由于法律和道德问题不能提供源代码，只提供最小化的代码也会有用。
- 划分并解决问题。你有一小段代码，但是并不清楚问题的来源，每次移除一点代码直到问题解决，然后把最后一次移除的代码加上。

### 最小化和可读性

最小化并不意味着简练，不要因为简洁牺牲沟通性。使用统一的命名和缩进，如果需要就加上注释。很多编辑器有格式化代码的快捷键，找到并使用它。还有，不要使用tab，在你的编辑器上看起来可能不错，但是在Stack Overflow上会显得一团糟。

## 完整性

保证造成问题的所需信息都包括进去了：

- 有些人可能已经准备好加载代码，并且测试他们准备的答案	
- 问题可能不在你怀疑的地方，而在另一个地方

如果问题需要服务器端的代码例如XML配置文件，包含进来，如果网页问题需要HTML，一些JS还有样式表，全包含进来。

## 可验证性

为了帮助你解决你的问题，其他人需要验证问题的存在：

- 描述问题：“它不管用”不是问题的描述方法，告诉我们你期望的行为是什么，告诉我们详细的报错信息是什么，哪一行出现的问题，在问题的标题写上简单的总结。
- 不要牵扯与问题无关的论题：如果你的问题不牵扯到编译问题，那就确保没有编译错误，使用JSLint类似的工具验证一下，验证所有的HTML和XML的文件。
- 保证提供的代码能再现问题！如果写代码过程中你不经意改好了代码但是没有再次测试，所以在寻求帮助之前你最好知道这些

所以关掉电脑重启可能会用，或者把代码放在新的机器上以确保它确实是一段能出问题的代码

更多的信息关于怎么调试你的程序让你你可以制作最小的代码，你可以放稳[Eric Lippert](http://stackoverflow.com/users/88656/eric-lippert)的一篇文章：[*How to debug small programs*.](http://ericlippert.com/2014/03/05/how-to-debug-small-programs/)

原文来自于[ [How to create a Minimal, Complete, and Verifiable example](https://stackoverflow.com/help/mcve?utm_source=wanqu.co&utm_campaign=Wanqu+Daily&utm_medium=website)],题目翻译来自[湾区日报](https://wanqu.co/a/5185/2017-06-07-how-to-create-a-minimal-complete-and-verifiable-example.html?s=/issues),非常不错的网站，大家可以去订阅😊。